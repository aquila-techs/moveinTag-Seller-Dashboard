<!-- Admin user profile area -->
<div *ngIf="chatUser">
  <div class="chat-user-sidebar">
    <div
      *ngIf="!chatUser.firstName"
      class="d-flex justify-content-center align-items-center vh-100"
      style="background-color: #ffffff"
    ></div>

    <div *ngIf="chatUser.firstName">
      <div class="chat-profile-header">
        <div
          class="header-profile-sidebar"
          style="text-align: center; padding-top: 20px"
        >
          <div class="mb-1" *ngIf="chatUser.profileImage; else customAvatar">
            <img
              class="rounded-circle"
              src="{{ baseURL }}{{ chatUser.profileImage }}"
              height="100"
              width="100"
            />
          </div>
          <ng-template #customAvatar>
            <div
              class="avatar mr-1 ml-0"
              style="background-color: #56c1ff"
              [ngClass]="{
                'avatar-status-offline': chatUser.status == 'offline',
                'avatar-status-online': chatUser.status == 'online',
                'avatar-status-busy': chatUser.status == 'busy',
                'avatar-status-away': chatUser.status == 'away'
              }"
            >
              <div
                class="avatar-content"
                style="width: 100px; height: 100px; font-size: 34px"
              >
                {{ chatUser.firstName + chatUser.lastName | initials }}
              </div>
            </div>
          </ng-template>

          <div class="chat-info flex-grow-1">
            <span style="font-size: 22px; font-weight: 700" class="mb-1"
              >{{ chatUser.firstName }} {{ chatUser.lastName }}</span
            >
          </div>
        </div>
        <!--/ User Information -->
      </div>

      <!-- User Details start -->
      <div class="profile-sidebar-area" [perfectScrollbar]>
        <!-- To set user status -->
        <ul class="list-unstyled user-status">
          <li class="pb-1 pt-2">
            <div class="col-12" *ngIf="chatUser.email">
              <span class="ml-1" style="font-size: 17px; font-weight: 700"
                >Email: &nbsp;</span
              >
              <span style="font-size: 14px; font-weight: 600">{{
                chatUser.email
              }}</span>
            </div>
            <div class="col-12" *ngIf="chatUser.phone">
              <span class="ml-1" style="font-size: 17px; font-weight: 700"
                >Phone no: &nbsp;</span
              >
              <span style="font-size: 14px; font-weight: 600">{{
                chatUser.phone
              }}</span>
            </div>
            <div class="col-12" *ngIf="chatUser.address">
              <span class="ml-1" style="font-size: 17px; font-weight: 700"
                >Address: &nbsp;</span
              >
              <span style="font-size: 14px; font-weight: 600">{{
                chatUser.address
              }}</span>
            </div>
            <div class="col-12" *ngIf="chatUser.postalCode">
              <span class="ml-1" style="font-size: 17px; font-weight: 700"
                >Zip / Postal Code: &nbsp;</span
              >
              <span style="font-size: 14px; font-weight: 600">{{
                chatUser.postalCode
              }}</span>
            </div>
            <div class="col-12" *ngIf="chatUser.country">
              <span class="ml-1" style="font-size: 17px; font-weight: 700"
                >Country: &nbsp;</span
              >
              <span style="font-size: 14px; font-weight: 600">{{
                chatUser.country
              }}</span>
            </div>
            <div class="col-12" *ngIf="chatUser.facebookURL">
              <span class="ml-1" style="font-size: 17px; font-weight: 700"
                >Facebook: &nbsp;</span
              >
              <span style="font-size: 14px; font-weight: 600">{{
                chatUser.facebookURL
              }}</span>
            </div>
            <div class="col-12" *ngIf="chatUser.instagramURL">
              <span class="ml-1" style="font-size: 17px; font-weight: 700"
                >Instagram: &nbsp;</span
              >
              <span style="font-size: 14px; font-weight: 600">{{
                chatUser.instagramURL
              }}</span>
            </div>
            <div class="col-12" *ngIf="chatUser.twitterURL">
              <span class="ml-1" style="font-size: 17px; font-weight: 700"
                >Linkedin: &nbsp;</span
              >
              <span style="font-size: 14px; font-weight: 600">{{
                chatUser.twitterURL
              }}</span>
            </div>
          </li>
        </ul>

        <div class="d-flex justify-content-center mt-3">
          <button class="btn btn-primary" (click)="orderDetails(modalVC)">
            Lead Info
          </button>
        </div>

        <!-- User settings -->
      </div>
    </div>
  </div>
</div>

<ng-template #modalVC let-modal>
  <div class="modal-header">
    <h5
      class="modal-title"
      id="exampleModalCenterTitle"
      style="font-family: 'Montserrat', sans-serif"
    >
      Lead Details
    </h5>
    <button
      type="button"
      class="close"
      (click)="modal.dismiss('Cross click')"
      aria-label="Close"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body" tabindex="0" ngbAutofocus>
    <form action="">
      <div class="form-group" [hidden]="!selectedOrder?.subCategory?.title">
        <label for="basicInput" style="font-family: 'Montserrat', sans-serif"
          >What needs to be done?</label
        >
        <input
          readonly
          type="text"
          [value]="selectedOrder?.subCategory?.title"
          class="form-control"
          id="basicInput"
          placeholder=""
        />
      </div>
      <div class="form-group" [hidden]="!selectedOrder?.place">
        <label for="basicInput" style="font-family: 'Montserrat', sans-serif"
          >What type of property?</label
        >
        <input
          readonly
          type="text"
          class="form-control"
          [value]="selectedOrder?.place"
          id="basicInput"
          placeholder="Townhall"
        />
      </div>
      <div class="form-group" [hidden]="!selectedOrder?.startTime">
        <label for="basicInput" style="font-family: 'Montserrat', sans-serif"
          >When do you want to start this project</label
        >
        <input
          readonly
          type="text"
          class="form-control"
          [value]="selectedOrder?.startTime"
          id="basicInput"
          placeholder="Within a week"
        />
      </div>
      <div class="form-group" [hidden]="!selectedOrder?.notes">
        <label for="basicInput" style="font-family: 'Montserrat', sans-serif"
          >Please provide some details about project
        </label>
        <textarea
          readonly
          style="height: 150px"
          [value]="selectedOrder?.notes"
          class="form-control"
        ></textarea>
      </div>

      <div *ngIf="selectedOrder?.status === 'COMPLETED'">
        <div class="form-group" [hidden]="!selectedOrder?.startTime">
          <label for="basicInput" style="font-family: 'Montserrat', sans-serif"
            >Earning</label
          >
          <input
            type="text"
            class="form-control"
            [value]="selectedOrder?.ammount"
            (input)="updateEarningAmount($event.target.value)"
            id="basicInput"
            placeholder="Earning"
            readonly="true"
          />
        </div>
      </div>

      <div class="form-group" [hidden]="selectedOrder?.orderImages.length <= 0">
        <label for="basicInput" style="font-family: 'Montserrat', sans-serif"
          >Service Images</label
        >
        <div class="row px-1">
          <div
            class="col-lg-3 px-50"
            *ngFor="let item of selectedOrder.orderImages"
          >
            <a href="{{ baseURL }}{{ item.path }}" target="_blank">
              <img
                src="{{ baseURL }}{{ item.path }}"
                alt=""
                class="img-fluid w-100"
              />
            </a>
          </div>
          <!-- <div class="col-lg-3 px-50">
            <img src="{{baseURL}}{{selectedOrder.orderImages[0].path}}" alt="" class="img-fluid w-100">
          </div> -->
        </div>
      </div>
    </form>
  </div>
</ng-template>
